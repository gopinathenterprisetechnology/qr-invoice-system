<!DOCTYPE html>
<html>
<head>
<title>Invoice Verification</title>
<style>
body{
  font-family: Arial;
  background:#f5f5f5;
}
.bill{
  width:800px;
  margin:20px auto;
  background:white;
  padding:20px;
  border:2px solid black;
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border:1px solid black;
  padding:6px;
  text-align:center;
}
.right{
  text-align:right;
}
.bold{
  font-weight:bold;
}
.section{
  margin-top:10px;
}
</style>
</head>
<body>
<div class="bill" id="invoiceData">
Loading Invoice...
</div>
<script>
const params = new URLSearchParams(window.location.search);
const invoiceNo = params.get("inv");
if(!invoiceNo){
 document.getElementById("invoiceData").innerHTML="Invoice Not Found ❌";
}
else{
fetch("invoices/" + invoiceNo + ".json")
.then(response=>{
 if(!response.ok){ throw new Error("Not Found"); }
 return response.json();
})
.then(data=>{
let itemsHTML = "";
data.items.forEach((item,index)=>{
 itemsHTML += `
 <tr>
   <td>${index+1}</td>
   <td>${item.name}</td>
   <td>${item.qty}</td>
   <td>${item.rate}</td>
   <td>${item.amount}</td>
 </tr>
 `;
});
document.getElementById("invoiceData").innerHTML = `



<div style="background:#1e3a8a; color:white; padding:20px; border-radius:6px;">

  <div style="display:flex; align-items:center;">
<!-- Left Logo -->
<div style="width:150px; text-align:left;">
<img src="logo-left.png" style="height:130px;">
</div>

    <!-- Center Shop Details -->
    <div style="flex:1; text-align:center;">
      <h2 style="margin:0;">GOPINATH ENTERPRISE & TECHNOLOGY</h2>
      <p style="margin:2px 0; font-weight:bold;">CYBER CAFE & MOBILE SHOP</p>
      <p style="margin:2px 0;">
        All Types of Mobile, Accessories, Headphones, Earbuds, Neckband Sales & Services
      </p>
      <p style="margin:2px 0;">
        Dakshin Rasulpur, Arambagh, Hooghly, West Bengal - 712413
      </p>
    </div>

    <!-- Right Logo -->
    <div style="width:110px; text-align:right;">
      <img src="logo-right.png" style="height:90px;">
    </div>

  </div>

  <!-- Email Left | Mobile Right -->
  <div style="display:flex; justify-content:space-between; margin-top:10px; font-size:14px;">
    <div>
      Email: gopinathenterprisetechnology@gmail.com
    </div>
    <div>
      Contact No : 9339225562 / 8001901640
    </div>
  </div>

</div>


                   
  <div style="border:2px solid black; padding:10px; margin-top:10px;">

  <div style="display:flex; justify-content:space-between; font-weight:bold;">

    <div>
      Invoice No: ${data.invoice.number}
    </div>

    <div style="text-align:center;">
      Payment Mode: ${data.invoice.payment_mode}
    </div>

    <div style="text-align:right;">
      Date: ${data.invoice.date}
    </div>

  </div>

</div>                 
    





<div class="section">
<b>Customer Name :</b> ${data.customer.name}<br>
<b>Address :</b> ${data.customer.address}<br>
<b>Place of Supply :</b> ${data.customer.address}<br>
<b>Contact No :</b> ${data.customer.mobile}
</div>
<br>
<table>
<tr>
<th>Sl No</th>
<th>Descriptions of Goods</th>
<th>Qnty</th>
<th>Rate</th>
<th>Amount</th>
</tr>
${itemsHTML}
</table>
<br>
<table>
<tr>
<td class="right bold">Total Amount :</td>
<td class="right">${data.total.total_amount}</td>
</tr>
<tr>
<td class="right bold"> Round off:</td>
<td class="right">${data.total.round_off}</td>
</tr>
<tr>
<td class="right bold">Net Amount :</td>
<td class="right">${data.total.net}</td>
</tr>
<tr>
<td class="right bold">Due Amount :</td>
<td class="right">${data.total.due}</td>
</tr>
<tr>
<td class="right bold">Paid Amount :</td>
<td class="right">${data.total.paid}</td>
</tr>
</table>
<br>
<div class="section">
<b>Total Amount Rupees In Words:</b> ${data.total.words}
</div>
<div class="section">
<b>Description:</b> ${data.description}</div>
<br><br>

<div style="display:flex; justify-content:space-between; gap:20px; margin-top:20px;">

  <!-- LEFT SIDE -->
  <div style="width:50%;">

    <!-- Terms & Conditions Box -->
    <div style="border:2px solid black; padding:10px; min-height:140px;">
      <b>Terms & Conditions:</b><br><br>
      1. Goods once sold not taken back.<br>
      2. Warranty of all items covered by the principal.<br>
      3. Payment 100% against delivery and installation.<br>
      4. Warranty not covered in case of physical or internal damage.
    </div>

    <!-- Customer Signature Box -->
    <div style="border:2px solid black; margin-top:20px; padding:10px; height:80px;">
      <b>Customer Signature</b>
    </div>

  </div>


  <!-- RIGHT SIDE -->
  <div style="width:50%;">

    <div style="display:flex; justify-content:space-between;">

      <!-- Bank Details -->
      <div style="width:60%; border:2px solid black; padding:10px; min-height:120px;">
        <b>Bank Account Details:</b><br><br>
        Bank Name: Bank of India<br>
        A/C Name: GOPINATH ENTERPRISE<br>
        A/C No: 425420110000328<br>
        IFSC: BKID0004254<br>
        A/C Type: Current
      </div>

      <!-- Payment QR -->
      <div style="width:35%; text-align:center;">
        <b>Scan & Pay</b><br><br>
        <img src="${data.payment_qr}" style="height:120px;">
      </div>

    </div>

    <!-- Authorised Signature -->
    <div style="border:2px solid black; margin-top:20px; padding:10px; height:80px; text-align:center;">
      <b>Gopinath Enterprise & Technology</b><br><br><br><br>
      Authorised Signature
    </div>

  </div>

</div>
`;
})
.catch(()=>{
document.getElementById("invoiceData").innerHTML="Invoice Not Found ❌";
});
}
</script>
</body>
</html>
